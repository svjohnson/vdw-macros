1                                                          The SAS System                          13:02 Thursday, February 22, 2007

NOTE: Unable to open SASUSER.REGSTRY. WORK.REGSTRY will be opened instead.
NOTE: All registry changes will be lost at the end of the session.

NOTE: Copyright (c) 2002-2003 by SAS Institute Inc., Cary, NC, USA. 
NOTE: SAS (r) 9.1 (TS1M3)
      Licensed to GROUP HEALTH COOPERATIVE OF PUGET SOUND, Site 0009688001.
NOTE: This session is executing on the XP_PRO  platform.



NOTE: SAS 9.1.3 Service Pack 4

NOTE: SAS initialization used:
      real time           2.49 seconds
      cpu time            0.47 seconds
      
1          /*********************************************
2          * Roy Pardee
3          * Center For Health Studies
4          * (206) 287-2078
5          * pardee.r@ghc.org
6          *
7          * \\groups\data\CTRHS\Crn\S D R C\VDW\Macros\TestSimpleContinuous.sas
8          *
9          * <<purpose>>
10         *********************************************/
11         
12         /* This is managed in the login script so that it doesnt
13            actually try to login when the machine is not connected
14            to the network */
15         %include "\\home\pardre1\SAS\Scripts\dw_login.sas" ;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

NOTE: Remote signon to CHSDWSAS commencing (SAS Release 9.01.01M3P020206).
NOTE: Script file 'tcpwin.scr' entered.
NOTE: Logged onto Windows... Starting remote SAS now.
NOTE: SAS/CONNECT conversation established.
NOTE: Unable to open SASUSER.PROFILE. WORK.PROFILE will be opened instead.
NOTE: All profile changes will be lost at the end of the session.
NOTE: Copyright (c) 2002-2003 by SAS Institute Inc., Cary, NC, USA. 
NOTE: SAS (r) 9.1 (TS1M3)
      Licensed to GROUP HEALTH COOPERATIVE OF PUGET SOUND, Site 0009688002.
NOTE: This session is executing on the NET_SRV  platform.



NOTE: SAS 9.1.3 Service Pack 2

NOTE: SAS initialization used:
      real time           0.35 seconds
      cpu time            0.21 seconds
      
NOTE: Remote signon to CHSDWSAS complete.
2                                        The SAS System        13:02 Thursday, February 22, 2007

NOTE: Remote submit to CHSDWSAS commencing.
1    ***********************;
2    * Set the typical libnames... ;
3    %let DWROOT = \\ctrhs-sas\warehouse\SasData\ ;
4    libname consumer  "&DWROOT.Consumer" ;
NOTE: Libref CONSUMER was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: \\ctrhs-sas\warehouse\SasData\Consumer
5    libname chsid     "&DWROOT.CHSID" ;
NOTE: Libref CHSID was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: \\ctrhs-sas\warehouse\SasData\CHSID
6    libname demogs    "&DWROOT.Consumer Demographics" ;
NOTE: Libref DEMOGS was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: \\ctrhs-sas\warehouse\SasData\Consumer Demographics
7    libname enroll    "&DWROOT.Enrollment" ;
NOTE: Libref ENROLL was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: \\ctrhs-sas\warehouse\SasData\Enrollment
8    libname nac       "&DWROOT.Cancer\Naaccr" ;
NOTE: Libref NAC was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: \\ctrhs-sas\warehouse\SasData\Cancer\Naaccr
9    libname naaccr    "&DWROOT.Cancer\Naaccr" ;
NOTE: Libname NAACCR refers to the same physical library as NAC.
NOTE: Libref NAACCR was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: \\ctrhs-sas\warehouse\SasData\Cancer\Naaccr
10   libname baseline  "&DWROOT.Baseline" ;
NOTE: Libref BASELINE was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: \\ctrhs-sas\warehouse\SasData\Baseline
11   libname arpa      "&DWROOT.arpa" ;
NOTE: Libref ARPA was successfully assigned as follows: 
      Engine:        V9 
3                                        The SAS System        13:02 Thursday, February 22, 2007

      Physical Name: \\ctrhs-sas\warehouse\SasData\arpa
12   libname mbhist    "&DWROOT.mbhist" ;
NOTE: Libref MBHIST was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: \\ctrhs-sas\warehouse\SasData\mbhist
13   libname mbcurr    "&DWROOT.mbcurr" ;
NOTE: Libref MBCURR was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: \\ctrhs-sas\warehouse\SasData\mbcurr
14   libname claims    "&DWROOT.claims" ;
NOTE: Libref CLAIMS was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: \\ctrhs-sas\warehouse\SasData\claims
15   libname death     "&DWROOT.death" ;
NOTE: Libref DEATH was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: \\ctrhs-sas\warehouse\SasData\death
16   libname hosp      "&DWROOT.Hospital" ;
NOTE: Libref HOSP was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: \\ctrhs-sas\warehouse\SasData\Hospital
17   libname VDW       "&DWROOT.CRN_VDW" ;
NOTE: Libref VDW was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: \\ctrhs-sas\warehouse\SasData\CRN_VDW
18   libname hosps     "&DWROOT.hospital" ;
NOTE: Libname HOSPS refers to the same physical library as HOSP.
NOTE: Libref HOSPS was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: \\ctrhs-sas\warehouse\SasData\Hospital
19   libname rx        "&DWROOT.rx" ;
NOTE: Libref RX was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: \\ctrhs-sas\warehouse\SasData\rx
20   libname s         "\\ctrhs-sas\sasuser\pardre1" ;
NOTE: Libref S was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: \\ctrhs-sas\sasuser\pardre1
21   
22   footnote "Program file: &CurrFile " ;
23   
24   
25   options linesize = 150 nocenter msglevel = i NOOVP formchar='|-++++++++++=|-/|<>*' 
dsoptions="note2err" ;
26   
27   %include "\\groups\data\CTRHS\Crn\S D R C\VDW\Macros\StdVars.sas" ;
89   
90   /*
91   */
92   filename crn_macs  FTP     "CRN_VDW_MACROS.sas"
93                      HOST  = "centerforhealthstudies.org"
94                      CD    = "/CRNSAS"
95                      PASS  = XXXXXXXXXXXXXXX
4                                        The SAS System        13:02 Thursday, February 22, 2007

96                      USER  = "CRNReader" ;
97   
98   
99   * filename crn_macs  "\\groups\data\CTRHS\Crn\S D R C\VDW\Macros\CRN_VDW_MACROS.sas" ;
100  %include crn_macs ;
NOTE: 220 chsorg2 Microsoft FTP Service (Version 5.0).
NOTE: User CRNReader has connected to FTP server  on Host centerforhealthstudies.org .
4077  
4078  
4079  %include "\\groups\data\CTRHS\Crn\S D R C\VDW\Macros\SimpleContinuous.sas" ;
4182  
4183  %macro GetTestSample(N = 2000, Letter = Q, OutSet = TestPeople) ;
4184     proc sql outobs = &n nowarn ;
4185        create table &OutSet as
4186        select mrn
4187        from vdw.demog
4188        where substr(mrn, 3, 1) = "&Letter"
4189        ;
4190     quit ;
4191  %mend GetTestSample ;
4192  
4193  %GetTestSample(Letter = V) ;
NOTE: Table WORK.TESTPEOPLE created, with 2000 rows and 1 columns.

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.10 seconds
      cpu time            0.07 seconds
      

4194  
4195  * was 282 when daystol was 30 ;
4196  
4197  %SimpleContinuous(People    = TestPeople           /* A dataset of MRNs whose enrollment 
we are considering. */
4198                    , StartDt = 01jan2006            /* A date literal identifying the 
start of the period of interest. */
4199                    , EndDt   = 31dec2006            /* A date literal identifying the end 
of the period of interest. */
4200                    , DaysTol = 90                   /* The # of days gap between otherwise 
contiguous periods of enrollment that is tolerable. */
4201                    , OutSet  = TestPeopleEnroll     /* Name of the desired output dset */
4202                    ) ;
NOTE: Libname __ENROLL refers to the same physical library as VDW.
NOTE: Libref __ENROLL was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: \\ctrhs-sas\warehouse\SasData\CRN_VDW
NOTE: Table WORK.DUAL created, with 0 rows and 1 columns.
NOTE: 1 row was inserted into WORK.DUAL.

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      
5                                        The SAS System        13:02 Thursday, February 22, 2007




ContinuousEnroll macro--pulling continuous enrollment information for the MRNs in TestPeople
between 01jan2006 and 31dec2006 (     365 days total).


NOTE: Table WORK._IDS created, with 2000 rows and 1 columns.

NOTE: Table WORK._PERIODS created, with 525 rows and 3 columns.

NOTE: PROCEDURE SQL used (Total process time):
      real time           2.99 seconds
      cpu time            2.85 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           6.46 seconds
      cpu time            2.06 seconds
      

VarList is mrn

NOTE: There were 525 observations read from the data set WORK._PERIODS.
NOTE: SAS sort was used.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._PERIODS has 525 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      


NOTE: There were 525 observations read from the data set WORK._PERIODS.
NOTE: The data set WORK._PERIODS has 414 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      


NOTE: There were 414 observations read from the data set WORK._PERIODS.
NOTE: The data set WORK._PERIODS has 414 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      

NOTE: Table WORK._PERIOD_DAYS created, with 414 rows and 2 columns.

NOTE: Table WORK.TESTPEOPLEENROLL created, with 411 rows and 3 columns.

NOTE: 1589 rows were inserted into WORK.TESTPEOPLEENROLL.
6                                        The SAS System        13:02 Thursday, February 22, 2007


NOTE: The PROCEDURE SQL printed pages 1-3.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.37 seconds
      cpu time            0.17 seconds
      

NOTE: Libref __ENROLL has been deassigned.
4203  
4204  proc freq data = TestPeopleEnroll ;
4205     tables CoveredDays * ContinuouslyEnrolled / list missing format = comma20. ;
4206  run ;

NOTE: There were 2000 observations read from the data set WORK.TESTPEOPLEENROLL.
NOTE: The PROCEDURE FREQ printed page 4.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.07 seconds
      cpu time            0.00 seconds
      

NOTE: Remote submit to CHSDWSAS complete.
NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414
NOTE: The SAS System used:
      real time           20.85 seconds
      cpu time            1.06 seconds
      
